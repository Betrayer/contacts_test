(this.webpackJsonplogin_test=this.webpackJsonplogin_test||[]).push([[3],{29:function(t,e,n){"use strict";function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],c=!0,a=!1,r=void 0;try{for(var o,l=t[Symbol.iterator]();!(c=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);c=!0);}catch(i){a=!0,r=i}finally{try{c||null==l.return||l.return()}finally{if(a)throw r}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},31:function(t,e,n){t.exports={contactsList:"contacts_contactsList__2J-nc",contactsListItem:"contacts_contactsListItem__2Ym3L"}},32:function(t,e,n){t.exports={modalWrapper:"modal_modalWrapper__1xqw-",closingButton:"modal_closingButton__2UUGQ"}},33:function(t,e,n){t.exports={header:"home_header__1bTBj",homeSection:"home_homeSection__1DAFr",buttonWrapper:"home_buttonWrapper__3LqyP"}},36:function(t,e,n){"use strict";n.r(e);var c=n(29),a=n(0),r=n(1),o=n(31),l=n.n(o),i=n(3),s=function(){var t=JSON.parse(localStorage.getItem("contacts")||"[]"),e=Object(a.useState)(t.sort((function(t,e){return t.name.localeCompare(e.name)}))),n=Object(c.a)(e,2),r=n[0],o=n[1];Object(a.useEffect)((function(){}),[r]);var s=window.innerWidth;return Object(i.jsx)(i.Fragment,{children:r.length<=0?Object(i.jsx)("span",{children:"No contacts saved yet, try to add some"}):Object(i.jsx)("ul",{className:l.a.contactsList,children:r.map((function(t){return Object(i.jsxs)("li",{className:l.a.contactsListItem,onClick:function(){return function(t){var e=r.filter((function(e){return e.tel!==t}));o(e)}(t.tel)},children:[Object(i.jsx)("button",{children:"Edit"}),Object(i.jsx)("img",{alt:"profile_pic",src:"https://picsum.photos/id/".concat(1e3+r.indexOf(t),s<768?"/150":"/200")}),Object(i.jsx)("span",{children:t.name}),Object(i.jsx)("a",{href:"tel:".concat(t.tel),children:"Call to"})]},t.tel)}))})})},u=n(32),d=n.n(u),m=function(t){var e=t.handleAddModal,n=(t.handleEditModal,Object(a.useState)({name:"",tel:""})),r=Object(c.a)(n,2),o=r[0],l=r[1],s=JSON.parse(localStorage.getItem("contacts")||"[]");return Object(i.jsxs)("div",{className:d.a.modalWrapper,children:[Object(i.jsx)("button",{onClick:e,className:d.a.closingButton,children:"close"}),Object(i.jsxs)("form",{id:"cotactsForm",children:[Object(i.jsx)("label",{htmlFor:"contactName",children:"contactName"}),Object(i.jsx)("input",{autoFocus:!0,minLength:3,required:!0,type:"text",id:"contactName",placeholder:"Ex.: John Doe",onChange:function(t){return l({name:t.target.value,tel:o.tel})}}),Object(i.jsx)("label",{htmlFor:"contactTel",children:"contactTel"}),Object(i.jsx)("input",{autoFocus:!0,required:!0,type:"tel",id:"contactTel",placeholder:"Ex.: 8800553535",onChange:function(t){return l({name:o.name,tel:t.target.value})}}),Object(i.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),o.name.length>2&&o.name.length>0&&(s.push(o),localStorage.setItem("contacts",JSON.stringify(s)),e())},children:"submit"})]})]})},j=n(33),b=n.n(j);e.default=function(){var t=Object(r.g)(),e=Object(a.useState)(!1),n=Object(c.a)(e,2),o=n[0],l=n[1],u=Object(a.useState)(!1),d=Object(c.a)(u,2),j=d[0],h=d[1];Object(a.useEffect)((function(){l(!1),h(!1)}),[]);var f=function(){l(!o)},p=localStorage.getItem("contacts");return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("header",{className:b.a.header,children:[Object(i.jsxs)("span",{children:["Greetings, ",localStorage.getItem("userName")]}),Object(i.jsx)("button",{onClick:function(){localStorage.removeItem("userName"),t.push("/")},children:"logout"})]}),Object(i.jsxs)("section",{className:b.a.homeSection,children:[Object(i.jsxs)("div",{className:b.a.buttonWrapper,children:[Object(i.jsx)("button",{onClick:f,children:"New contact"}),Object(i.jsx)("button",{onClick:function(){return function(t,e,n){var c="object"!==typeof t?JSON.parse(t):t,a="";if(n){var r="";for(var o in c[0])r+=o+",";a+=(r=r.slice(0,-1))+"\r\n"}for(var l=0;l<c.length;l++){var i="";for(var s in c[l])i+='"'+c[l][s]+'",';i.slice(0,i.length-1),a+=i+"\r\n"}if(""!==a){var u="I finally made it_";u+=e.replace(/ /g,"_");var d="data:text/csv;charset=utf-8,"+escape(a),m=document.createElement("a");m.href=d,m.style="visibility:hidden",m.download=u+".csv",document.body.appendChild(m),m.click(),document.body.removeChild(m)}else alert("Invalid data")}(p,"contacts",!0)},children:"download CSV"})]}),Object(i.jsx)(s,{}),o?Object(i.jsx)(m,{handleAddModal:f}):Object(i.jsx)(i.Fragment,{}),j?Object(i.jsx)(m,{handleEditModal:function(){h(!j)}}):Object(i.jsx)(i.Fragment,{})]})]})}}}]);
//# sourceMappingURL=3.16845436.chunk.js.map